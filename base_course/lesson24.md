## Урок 24. Словари (dict). Методы словарей. Словари и циклы

### 24.1 Словари. Получение значения.

**Словари** (`dictionaries`) — это **изменяемые**, **неупорядоченные** коллекции пар **"ключ-значение"**. Они используются для **хранения данных**, которые ассоциируются с **уникальными ключами**.

Словари позволяют быстро получать доступ **к значениям** по их **ключам**.

Словарь определяется с помощью **фигурных скобок** `{}` и содержит пары `ключ-значение`, разделенные двоеточием `:`. Пары разделяются запятыми:

```python
# Создание словаря
my_dict = {
    "name": "Alice",
    "age": 30,
    "city": "New York"
}
print(my_dict)
```

### 24.2 Для чего используются словари:

**Словари используются для**:

- **Хранения данных**, которые логически связаны друг с другом.
- **Быстрого доступа** к значениям по уникальным ключам.
- **Организации данных в структуре**, где каждый элемент имеет уникальный идентификатор.

### 24.3 Получение значения словаря по ключу

**Для получения значения по ключу используется синтаксис** `dict[key]`. Если ключ **не существует**, будет вызвано исключение `KeyError`. Чтобы избежать этого, можно **использовать метод** `get()`, который возвращает `None` (или другое указанное значение) если ключ не найден.

**Пример**:

```python
my_dict = {
    "name": "Alice",
    "age": 30,
    "city": "New York"
}

# Получение значения по ключу
name = my_dict["name"]
print(name)  # Выведет: Alice

# Использование метода get()
age = my_dict.get("age")
print(age)  # Выведет: 30

# Использование метода get() с указанием значения по умолчанию
country = my_dict.get("country", "Unknown")
print(country)  # Выведет: Unknown
```

### 24.4 Особенности ключей в словаре.

- **Уникальность**: Ключи в словаре должны быть **уникальными**. Если вы попытаетесь добавить элемент с уже существующим ключом, **старое значение будет перезаписано новым**.
- **Неизменяемость**: Ключи должны быть **неизменяемыми** (`immutable`). Это означает, что в качестве ключей можно **использовать** только те типы данных, **которые не могут быть изменены** после их создания.

### 24.5 Типы данных, которые можно использовать в качестве ключей

В качестве **ключей** в словаре можно использовать **следующие неизменяемые типы данных**:

- **Числа** (`integers`, `floats`)
- **Строки** (`strings`)
- **Кортежи** (`tuples`), если они содержат только неизменяемые объекты
- **Булевы значения** (`booleans`)

**Пример**:

```python
my_dict = {
    1: "one",
    3.14: "pi",
    "name": "Alice",
    (1, 2): "tuple",
    True: "boolean"
}
```

### 24.6 Создание словаря

1. Создание словаря с помощью функции `dict()`. Функция `dict()` позволяет **создавать словари различными способами**.

- **Создание пустого словаря**:

  ```python
  empty_dict = dict()
  print(empty_dict)  # Выведет: {}

  empty_dict = {}
  print(empty_dict) # Выведет: {}
  ```

- **Создание словаря с парами ключ-значение**:

  ```python
  my_dict = dict(name="Alice", age=30, city="New York")
  print(my_dict)  # Выведет: {'name': 'Alice', 'age': 30, 'city': 'New York'}
  ```

2. **Создание словаря из вложенных списков**. Можно **создать словарь из вложенных списков или кортежей**, где каждый вложенный элемент содержит пару `ключ-значение`.

   ```python
   # Вложенные списки
   list_of_pairs = [["name", "Alice"], ["age", 30], ["city", "New York"]]
   dict_from_list = dict(list_of_pairs)
   print(dict_from_list)  # Выведет: {'name': 'Alice', 'age': 30, 'city': 'New York'}

   # Вложенные кортежи
   tuple_of_pairs = (("name", "Alice"), ("age", 30), ("city", "New York"))
   dict_from_tuple = dict(tuple_of_pairs)
   print(dict_from_tuple)  # Выведет: {'name': 'Alice', 'age': 30, 'city': 'New York'}
   ```

3. **Создать пару "ключ-значение" в словаре**. Использовать синтаксиса `dict[new_key] = value`, чтобы создать пару `ключ-значение`. **Если ключ уже существует, его значение будет перезаписано**. **Если ключа нет, он будет добавлен**.

   ```python
   # Исходный словарь
   my_dict = {'a': 1, 'b': 2}
   # Ключ и значение для добавления
   key_to_add = 'c'
   value_to_add = 3
   # Создание пары ключ-значение
   my_dict[key_to_add] = value_to_add

   print(my_dict) # {'a': 1, 'b': 2, 'c': 3}
   ```

### 24.7 Функции `len()`, оператора `del` и оператора `in` для работы со словарями

- Функция `len()`: возвращает количество пар `ключ-значение` в словаре.

  **Пример**:

  ```python
  my_dict = {'a': 1, 'b': 2, 'c': 3}
  print(len(my_dict))  # Вывод: 3
  ```

- Оператор `del`: используется для **удаления элемента** из словаря по ключу.

  **Пример**:

  ```python
  my_dict = {'a': 1, 'b': 2, 'c': 3}
  del my_dict['b']
  print(my_dict)  # Вывод: {'a': 1, 'c': 3}
  ```

- Оператор `in`: позволяет проверить, **содержится ли ключ в словаре**.

  **Пример**:

  ```python
  my_dict = {'a': 1, 'b': 2, 'c': 3}
  key_to_check = 'b'

  if key_to_check in my_dict:
      print(f"Ключ '{key_to_check}' присутствует в словаре.")
  else:
      print(f"Ключ '{key_to_check}' отсутствует в словаре.")
  ```

### 24.8 Основные методы словаря.

1. `clear()`: **Удаляет все элементы из словаря**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   my_dict.clear()
   print(my_dict)  # {}
   ```

2. `copy()`: **Возвращает копию словаря**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   new_dict = my_dict.copy()
   print(new_dict)  # {'a': 1, 'b': 2}
   ```

3. `fromkeys()`: **Создает новый словарь с заданными ключами и значением по умолчанию**.

   ```python
   keys = ('a', 'b', 'c')
   new_dict = dict.fromkeys(keys, 0)
   print(new_dict)  # {'a': 0, 'b': 0, 'c': 0}
   ```

4. `get()`: **Возвращает значение по ключу, если ключ не найден, возвращает `None` или заданное значение**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   print(my_dict.get('a'))  # 1
   print(my_dict.get('c', 'not found'))  # not found
   ```

5. `items()`: **Возвращает представление пар (`ключ, значение`) словаря**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   print(my_dict.items())  # dict_items([('a', 1), ('b', 2)])
   ```

6. `keys()`: **Возвращает представление `ключей` словаря**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   print(my_dict.keys())  # dict_keys(['a', 'b'])
   ```

7. `values()`: **Возвращает представление значений словаря**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   print(my_dict.values())  # dict_values([1, 2])
   ```

8. `pop()`: **Удаляет элемент с указанным ключом и возвращает его значение**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   value = my_dict.pop('a')
   print(value)  # 1
   print(my_dict)  # {'b': 2}
   ```

9. `popitem()`: **Удаляет и возвращает последнюю добавленную пару (`ключ, значение`)**.

   ```python
   my_dict = {'a': 1, 'b': 2}
   item = my_dict.popitem()
   print(item)  # ('b', 2)
   print(my_dict)  # {'a': 1}
   ```

10. `setdefault()`: **Возвращает значение по ключу, если ключ не существует, добавляет его с заданным значением**.

    ```python
    my_dict = {'a': 1}
    value = my_dict.setdefault('b', 2)
    print(value)  # 2
    print(my_dict)  # {'a': 1, 'b': 2}
    ```

11. `update()`: **Обновляет словарь, добавляя пары (**ключ, значение**) из другого словаря или итерируемого объекта**.

    ```python
    my_dict = {'a': 1}
    my_dict.update({'b': 2, 'c': 3})
    print(my_dict)  # {'a': 1, 'b': 2, 'c': 3}
    ```

### 24.9 Проход по словарю с помощью цикла `for`

1. **Проход по `словарю`**. При проходе по словарю в цикле `for` **по умолчанию перебираются ключи**:

   ```python
   my_dict = {'a': 1, 'b': 2, 'c': 3}

   for key in my_dict:
       print(key)  # Выводит ключи: a, b, c
   ```

2. **Проход по `ключам` словаря**. Можно явно использовать метод `keys()` для **перебора ключей**.

   ```python
   my_dict = {'a': 1, 'b': 2, 'c': 3}

   for key in my_dict.keys():
       print(key)  # Выводит ключи: a, b, c
   ```

3. **Проход по `значениям` словаря**. Для **перебора значений** используйте метод `values()`.

   ```python
   my_dict = {'a': 1, 'b': 2, 'c': 3}

   for value in my_dict.values():
       print(value)  # Выводит значения: 1, 2, 3
   ```

4. **Проход по элементам словаря**. Для **перебора пар (`ключ, значение`)** используйте метод `items()`.

   ```python
   my_dict = {'a': 1, 'b': 2, 'c': 3}

   for key, value in my_dict.items():
       print(f'Ключ: {key}, Значение: {value}')
       # Выводит:
       # Ключ: a, Значение: 1
       # Ключ: b, Значение: 2
       # Ключ: c, Значение: 3
   ```

### Вопросы:

1. Что такое словарь?
2. Способы объявления словаря.
3. Как узнать количество элементов в словаре?
4. Как удалить элемент по ключу?
5. Как проверить наличие ключа в словаре?
6. Какими способами можно создавать копию словаря?
7. Какой метод очищает словарь?
8. Какой метод возвращает значение по ключу?
9. Какой метод удаляет элемент словаря по ключу и возвращает удаленное значение?
10. Какой метод возвращает коллекцию из ключей словаря
11. Какой метод возвращает коллекцию из значений словаря
12. Какой метод возвращает записи в виде кортежей (ключ, значение)

### Задачи:

1. Создайте словарь: `{"Анна": 85, "Борис": 90, "Виктория": 78}`. Программа должна запрашивать у пользователя имя студента и выводить его оценку на экран, либо сообщение `"Студент не найден"`.

2. Создайте словарь: `{ "отлично": 5, "хорошо": 4, "удовлетворительно": 3, "неудовлетворительно": 2 }`. Программа должна запрашивать у пользователя оценку (число) и выводить соответствующее слово. Если оценка не найдена, вывести сообщение `"Такой оценки нет"`.

3. Создайте словарь: `{"Россия": "Москва", "Франция": "Париж", "Италия": "Рим", "Германия": "Берлин"}`. Программа должна запрашивать у пользователя название страны и выводить столицу. Если страна не найдена, вывести `"Страна не найдена"`.

4. На вход программе подаются данные в формате `ключ=значение`, записанные через пробел. Значениями здесь являются целые числа. Необходимо прочитать строку с этими данными и на их основе сформировать словарь `my_dict`, используя функцию `dict()`. Результирующий словарь вывести на экран. Пример входных данных: `one=1 two=2 three=3`.

5. На вход программе подаются данные в формате `ключ=значение`, записанные через пробел. Необходимо прочитать строку с этими данными и на их основе сформировать словарь. Затем проверить, существуют ли в словаре ключи со значениями: `'house'`, `'True'` и `'5'` (все ключи - строки). Если все они существуют, то вывести на экран `"ДА"`, иначе `"НЕТ"`. Пример входных данных: `вологда=город house=дом True=1 5=отлично 9=хорошо`.

6. На вход программе подается строка с названиями продуктов и их стоимостью в формате: `название:цена`. Создайте из этой строки словарь, где ключ — название продукта, значение — цена. Далее запросите у пользователя название продукта и отобразите его цену, если продукт есть в словаре. Если нет, выведите `"Продукт не найден"`. Пример входящей строки: `"Лаваш:85.0 Сыр:799.0 Багет:30.0 Сок:41.99 Макароны:69.99"`.

7. На вход программе подаются данные в формате `ключ=значение`, записанные через пробел. Необходимо прочитать строку с этими данными и на их основе сформировать словарь `my_dict`. Затем удалить из этого словаря ключи `'False'` и `'3'`, если они существуют. Ключами и значениями словаря являются строки. Вывести полученный словарь на экран. Пример входных данных: `лена=имя дон=река москва=город False=ложь 3=удовлетворительно True=истина`.

8. На вход программе подается строка из нескольких целых числе. Создайте словарь, где ключи — `"четные"` и `"нечетные"`, а значения — списки с соответствующими числами. Выведите словарь на экран.

9. На вход программе подается строка из нескольких слов через пробел. Создайте словарь, где ключами будут уникальные слова, а значениями — их количество в строке. Выведите словарь на экран. Пример входящей строки: `"Hello world! This is a test. This test is only a test"`.

10. Создайте словарь: `{'a': 1, 'b': 2, 'c': 3}`. Напишите программу, которая создает новый словарь, где ключи и значения поменяны местами: `{1: 'a', 2: 'b', 3: 'c'}`.

11. Создайте словарь: `{'Иван': 25, 'Кантемир': 30, 'Анна': 30, 'Фатима': 21, 'Петр': 22, 'Азрет': 25}`. Программа должна определить и вывести, кто самый старший и самый младший из пользователей, а также средний возраст.

12. Создайте словарь: `{"Молоко": 50, "Хлеб": 30, "Яблоко": 70, "Курица": 120, "Лаваш": 30, "Макароны": 50, "Сок": 120}`. Создайте новый словарь, где ключи — это уникальные цены, а значения — список товаров с такой ценой. Выведите словарь на экран.

13. На вход программе подаются номера телефонов, записанные в одну строчку через пробел, с разными кодами стран: `+7`, `+6`, `+2`, `+4 `и т.д. Необходимо прочитать строку и на ее основе сформировать словарь d. Ключами словаря должны быть коды (строки: `+7`, `+6`, `+2` и т. п.), а значениями список номеров в виде строк (следующих в том же порядке, что и в исходной строке) с соответствующими кодами. Полученный словарь вывести на экран. Пример входных данных: `+71234567890 +71234567854 +61234576890 +52134567890 +21235777890 +21234567110 +71232267890`. Пример получившегося словаря: `'+2': ['+21235777890', '+21234567110'], '+5': ['+52134567890'], '+6': ['+61234576890'], '+7': ['+71234567890', '+71234567854', '+71232267890']`.

14. На вход программе подается строка из русских букв и символов пробела. Необходимо ее прочитать и закодировать азбукой Морзе, где каждой букве ставится в соответствие код из точки и тире. Полученную строку вывести на экран.

    ```python
    # Словарь морзе
    morze = {
      'а': '.-', 'б': '-...', 'в': '.--', 'г': '--.', 'д': '-..', 'е': '.', 'ё': '.', 'ж': '...-', 'з': '--..', 'и': '..', 'й': '.---', 'к': '-.-', 'л': '.-..', 'м': '--', 'н': '-.', 'о': '---', 'п': '.--.', 'р': '.-.', 'с': '...', 'т': '-', 'у': '..-', 'ф': '..-.', 'х': '....', 'ц': '-.-.', 'ч': '---.', 'ш': '----', 'щ': '--.-', 'ъ': '--.--', 'ы': '-.--', 'ь': '-..-', 'э': '..-..', 'ю': '..--', 'я': '.-.-', ' ': '-...-'
    }
    ```

15. На вход программе подается закодированная строка с помощью азбуки Морзе. Коды разделены между собой пробелом. Необходимо ее раскодировать, используя азбуку Морзе из предыдущего задания. Все буквы в строке должны быть малыми (нижний регистр). Полученное сообщение (строку) вывести на экран. Пример входных данных: `.-- ... . -...- .-- . .-. -. ---`.
