## –£—Ä–æ–∫ 35: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

### –í–≤–µ–¥–µ–Ω–∏–µ

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –∏–∑–º–µ–Ω—è—è –µ—ë –∫–æ–¥**.

–≠—Ç–æ –∫–∞–∫ **–Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞** –∏–ª–∏ **–æ–±—ë—Ä—Ç–∫–∞** –Ω–∞–¥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `"–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç"` –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–º—É —á—Ç–æ-—Ç–æ —Å–≤–æ—ë (–¥–æ, –ø–æ—Å–ª–µ, –≤–º–µ—Å—Ç–æ), –∞ –∑–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äî –ª–∏–±–æ –≤–æ–æ–±—â–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏—á–∏–Ω–∞.

#### üî∏ –ü–æ—á–µ–º—É —ç—Ç–æ —É–¥–æ–±–Ω–æ?

- –ú–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ`, `–ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤`, `–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ`).
- –ù–µ –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π.
- –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∏—â–µ, –ª–∞–∫–æ–Ω–∏—á–Ω–µ–µ, –ª–µ–≥—á–µ –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.

#### üîπ –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏

> –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ ‚Äî —è—Ä–∫–∏–π –ø—Ä–∏–º–µ—Ä –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ:

- –í—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ø–∞—Å—Ç—å –≤ –∫–∞–±–∏–Ω–µ—Ç. –£ –¥–≤–µ—Ä–∏ —Å—Ç–æ–∏—Ç –æ—Ö—Ä–∞–Ω–Ω–∏–∫.
- –í—ã (–∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è) —Ö–æ—Ç–∏—Ç–µ ‚Äú–≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è‚Äù ‚Äî –≤–æ–π—Ç–∏.
- –ù–æ —Å–Ω–∞—á–∞–ª–∞ –æ—Ö—Ä–∞–Ω–Ω–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à –ø—Ä–æ–ø—É—Å–∫.

#### üî∏ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º:

| –†–µ–∞–ª—å–Ω–∞—è –∂–∏–∑–Ω—å    | –í –ø—Ä–æ–≥—Ä–∞–º–º–µ            |
| ----------------- | ---------------------- |
| –í—ã                | –§—É–Ω–∫—Ü–∏—è                |
| –û—Ö—Ä–∞–Ω–Ω–∏–∫          | –î–µ–∫–æ—Ä–∞—Ç–æ—Ä              |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞ | –õ–æ–≥–∏–∫–∞ –æ–±—ë—Ä—Ç–∫–∏         |
| –í—Ö–æ–¥ –≤ –∫–∞–±–∏–Ω–µ—Ç    | –í—ã–∑–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ |

- –ï—Å–ª–∏ –ø—Ä–æ–ø—É—Å–∫ –µ—Å—Ç—å ‚Äî –æ—Ö—Ä–∞–Ω–Ω–∏–∫ –≤–∞—Å –ø—Ä–æ–ø—É—Å—Ç–∏—Ç (–≤—ã–∑–æ–≤–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é).
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –Ω–µ –ø—É—Å—Ç–∏—Ç (–Ω–µ –≤—ã–∑–æ–≤–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é).

–ú–æ—Ä–∞–ª—å:

- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä = ‚Äú–æ—Ö—Ä–∞–Ω–Ω–∏–∫‚Äù —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω –º–æ–∂–µ—Ç:

  - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏,
  - –¥–æ–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ —á–µ–º-—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å–∞—Ç—å –≤ –∂—É—Ä–Ω–∞–ª, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å),
  - –∏–ª–∏ –≤–æ–æ–±—â–µ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫.

#### üîπ –ò—Ç–æ–≥

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –º–µ–Ω—è—è –µ—ë –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é**.

–≠—Ç–æ –æ—á–µ–Ω—å –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞:

- –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å `"—á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è"` –∏ `"–∫–∞–∫ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è"`,
- –∏–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –≤ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞—Ç—å).

### –§—É–Ω–∫—Ü–∏–∏ ‚Äî –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

#### üîπ –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "—Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞"?

–í Python —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ç–∞–∫–∏–µ –∂–µ –æ–±—ä–µ–∫—Ç—ã, –∫–∞–∫ —á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —Å–ø–∏—Å–∫–∏. –ò—Ö –º–æ–∂–Ω–æ:

- –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º,
- –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏,
- –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π,
- —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–∫–∞—Ö, —Å–ª–æ–≤–∞—Ä—è—Ö),
- –¥–∞–∂–µ —É–¥–∞–ª—è—Ç—å.

> –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `"—Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞"` (`first-class functions`).

–≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∏ –æ–¥–∏–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.

#### üîπ –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

```py
def greet():
    print("–ü—Ä–∏–≤–µ—Ç!")

say_hello = greet
say_hello()
```

> üîç –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

- `greet` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–∏.
- `say_hello = greet` ‚Äî —Ç–µ–ø–µ—Ä—å —É –Ω–∞—Å –¥–≤–∞ –∏–º–µ–Ω–∏, —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é.
- –í—ã–∑–æ–≤ `say_hello()` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—ã–∑—ã–≤–∞–µ—Ç `greet()`.

> üìå **–í–∞–∂–Ω–æ**: –º—ã –Ω–µ —Å—Ç–∞–≤–∏–º `()` –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏. –ï—Å–ª–∏ –±—ã –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ `say_hello = greet()`, —Ç–æ –≤—ã–∑–≤–∞–ª–∏ –±—ã `greet` —Å—Ä–∞–∑—É, –∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –±—ã `None`.

#### üîπ –ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞

```py
def apply_twice(func):
    func()
    func()

def laugh():
    print("–•–∞-—Ö–∞!")

apply_twice(laugh)
```

> üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
> apply_twice ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –µ–π —Ñ—É–Ω–∫—Ü–∏—é –¥–≤–∞ —Ä–∞–∑–∞.

- –ú—ã –ø–µ—Ä–µ–¥–∞—ë–º `laugh` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –±–µ–∑ —Å–∫–æ–±–æ–∫!
- –¢–æ –µ—Å—Ç—å, `apply_twice` –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `func() ‚Üí laugh()`.
- –≠—Ç–æ —É–∂–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –∑–∞—á–∞—Ç–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞: –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤–æ–º –¥—Ä—É–≥–æ–π.

#### üîπ –ü—Ä–∏–º–µ—Ä 3: –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏

```py
def outer():
    def inner():
        print("–≠—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è")
    return inner

func = outer()
func()
```

> üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- `outer()` —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é `inner` –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë.
- –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç `outer()` –≤ `func`.
- –ê –ø–æ—Ç–æ–º –≤—ã–∑—ã–≤–∞–µ–º `func()`, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ ‚Äî —ç—Ç–æ `inner()`.

> üìå –≠—Ç–æ –∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –æ–±—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

- **—Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è**,
- **–∏ –≤–µ—Ä–Ω—É—Ç—å –µ—ë ‚Äî –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é, "–æ–±—ë—Ä–Ω—É—Ç—É—é"**.

#### üîπ –ü—Ä–∏–º–µ—Ä 4: –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º

```py
def make_adder(x):
    def adder(y):
        return x + y
    return adder

add_5 = make_adder(5)
print(add_5(3))  # 8
```

> üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- `make_adder` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `adder`, –∫–æ—Ç–æ—Ä–∞—è **"–ø–æ–º–Ω–∏—Ç"**, —á–µ–º—É —Ä–∞–≤–µ–Ω `x`.
- `add_5 = make_adder(5)` —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é, **–∫–æ—Ç–æ—Ä–∞—è –∫ —Å–≤–æ–µ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É –¥–æ–±–∞–≤–ª—è–µ—Ç 5**.
- **–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∑–∞–º—ã–∫–∞–Ω–∏—è (`closure`) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è "–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏**.

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–í–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–ü—Ä–æ—Å—Ç–æ –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```py
def outer():
    def inner():
        print("–í–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è")
```

> üìå **–≠—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ª–µ–≥–∞–ª—å–Ω–æ –≤ Python**: —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –¢–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–≥–¥–∞.

#### üîπ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:

- —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ (`–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è`),
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —á—Ç–æ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π (`closures`),
- –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∫–∞–∫ –º—ã –¥–µ–ª–∞–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —á–∞—Å—Ç–∏).

#### üîπ –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```py
def outer():
    print("–í–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è")

    def inner():
        print("–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è")

    inner()

outer()
```

> üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- `outer()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.
- –í–Ω—É—Ç—Ä–∏ –Ω–µ—ë –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `inner()`.
- –ü–æ—Ç–æ–º –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `outer()`, —Ñ—É–Ω–∫—Ü–∏—è `inner()` –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–µ—ë –≤–∏–¥–∏–º–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Ç–µ–ª–æ–º `outer`).

#### üîπ –ü—Ä–∏–º–µ—Ä 2: –í–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è

```py
def get_logger():
    def log():
        print("–ó–∞–ø–∏—Å—å –≤ –ª–æ–≥...")
    return log

logger = get_logger()
logger()
```

> üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:

- `get_logger` —Å–æ–∑–¥–∞—ë—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `log`.
- `logger` —Ç–µ–ø–µ—Ä—å ‚Äî —ç—Ç–æ —Ç–∞ —Å–∞–º–∞—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
- –ï—ë –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ, –∏ –æ–Ω–∞ –≤—Å—ë –µ—â—ë `"–ø–æ–º–Ω–∏—Ç"`, –≥–¥–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.

#### üîπ –ü—Ä–∏–º–µ—Ä 3: –í–ª–æ–∂–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

```py
def greeting(name):
    def say_hello():
        print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")
    return say_hello

hello_alex = greeting("–ê–ª–µ–∫—Å")
hello_alex()
```

> üîç –ß—Ç–æ –∑–¥–µ—Å—å –≤–∞–∂–Ω–æ:

- `say_hello()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é name, —Ö–æ—Ç—è –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–Ω–µ –µ—ë —Ç–µ–ª–∞.
- Python —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ.

> üí° –≠—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º `‚Äú–ø–æ–º–Ω–∏—Ç—å‚Äù` —Ç–æ, —á—Ç–æ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –Ω–∞ —ç—Ç–∞–ø–µ –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è.

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:

- **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π**.
- **–û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã –≤–Ω—É—Ç—Ä–∏, –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞—Ä—É–∂—É**.
- **–û–Ω–∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`—Å–æ–∑–¥–∞—é—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ`)**.
- **–≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤: –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë**.

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

#### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä?

- **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç**.
- **–°–æ–∑–¥–∞—ë—Ç –≤–ª–æ–∂–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—ã–∑–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–π**.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç—É –Ω–æ–≤—É—é (–æ–±—ë—Ä–Ω—É—Ç—É—é) —Ñ—É–Ω–∫—Ü–∏—é**.
- **–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, "–ø–æ–¥–º–µ–Ω—è–µ—Ç" –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –º–µ–Ω—è—è –µ—ë –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**.

#### üîπ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, –≤—ã —Ö–æ—Ç–∏—Ç–µ:

- –ª–æ–≥–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π,
- –∑–∞—Å–µ–∫–∞—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è,
- –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞,
- –¥–æ–±–∞–≤–ª—è—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

> –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –≤—ã –ø–∏—à–µ—Ç–µ –æ–¥–∏–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç–µ –µ–≥–æ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

#### üîπ –ü—Ä–∏–º–µ—Ä: –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏

–†–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä log_decorator, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç:

- –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é,
- –ø–µ—Ä–µ–¥ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è <–∏–º—è>"`.

```py
def log_decorator(func):
    def wrapper():
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è {func.__name__}")
        func()
    return wrapper
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω–∏–º —ç—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é:

```py
def say_hello():
    print("–ü—Ä–∏–≤–µ—Ç!")

say_hello = log_decorator(say_hello)
say_hello()
```

> üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- log_decorator(say_hello) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç wrapper, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç say_hello() —Å –ª–æ–≥–æ–º.
- –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —ç—Ç—É –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ –≤ say_hello.
- –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ say_hello() –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

> üß† –≠—Ç–æ —É–∂–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –ø—Ä–æ—Å—Ç–æ –±–µ–∑ –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.

#### üîπ –°–∏–Ω—Ç–∞–∫—Å–∏—Å @decorator ‚Äî —É–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏

Python –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é "—Å–æ–±–∞—á–∫–∏"**:

```python
@log_decorator
def say_hello():
    print("–ü—Ä–∏–≤–µ—Ç!")
```

–≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```python
def say_hello():
    print("–ü—Ä–∏–≤–µ—Ç!")

say_hello = log_decorator(say_hello)
```

> üìå –°–∏–Ω—Ç–∞–∫—Å–∏—Å `@decorator_name` –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ –∏ –Ω–∞–≥–ª—è–¥–Ω–µ–µ.

#### üîπ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å @

```python
def log_decorator(func):
    def wrapper():
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è {func.__name__}")
        func()
    return wrapper

@log_decorator
def greet():
    print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!")

greet()
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è greet
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!
```

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

- **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é**.
- **–í–Ω—É—Ç—Ä–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è "–æ–±—ë—Ä—Ç–æ—á–Ω–∞—è" —Ñ—É–Ω–∫—Ü–∏—è (–æ–±—ã—á–Ω–æ `wrapper()`)**.
- **–ü—Ä–∏–º–µ–Ω—è—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —É–¥–æ–±–Ω–æ —Å –ø–æ–º–æ—â—å—é `@–∏–º—è_–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞`**.
- **–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞**.

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏

#### üîπ –ü—Ä–æ–±–ª–µ–º–∞: –Ω–∞—à –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–∫–∞ –Ω–µ —É–º–µ–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã

–í—Å–ø–æ–º–Ω–∏–º:

```python
@log_decorator
def greet():
    print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!")
```

–ê —á—Ç–æ –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

```python
@log_decorator
def greet(name):
    print(f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {name}!")

greet("–ê–ª–µ–∫—Å")
```

> üí• –¢–∞–∫–æ–π –∫–æ–¥ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É:

```pgsql
TypeError: wrapper() takes 0 positional arguments but 1 was given
```

#### üîπ –†–µ—à–µ–Ω–∏–µ: \*args –∏ \*\*kwargs

–ß—Ç–æ–±—ã –æ–±—ë—Ä—Ç–∫–∞ –º–æ–≥–ª–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –∫–ª—é—á–µ–≤—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º:

- `*args` ‚Äî –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–∞)
- `**kwargs` ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è)

#### üîπ –û–±–Ω–æ–≤–∏–º –Ω–∞—à –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

```python
def log_decorator(func):
    def wrapper(*args, **kwargs):
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è {func.__name__}")
        return func(*args, **kwargs)
    return wrapper
```

–¢–µ–ø–µ—Ä—å –æ–±—ë—Ä—Ç–∫–∞:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã,
- –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –¥–∞–ª—å—à–µ –≤ –∏—Å—Ö–æ–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.

#### üîπ –ü—Ä–∏–º–µ—Ä: –¥–µ–∫–æ—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```python
@log_decorator
def greet(name):
    print(f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {name}!")

greet("–ê–ª–µ–∫—Å")
```

> üîç –í—ã–≤–æ–¥:

```
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è greet
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –ê–ª–µ–∫—Å!
```

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

- **–ï—Å–ª–∏ –¥–µ–∫–æ—Ä–∏—Ä—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –æ–±—ë—Ä—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –¥–∞–ª—å—à–µ**.
- **–î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `*args` –∏ `**kwargs` ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–∏—Å–∞–Ω–∏—è –ª—é–±—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤\*\*.
- **–ë–µ–∑ —ç—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**.

### –ù–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Ö –≤—ã–∑–æ–≤–∞

#### üîπ –ú–æ–∂–Ω–æ –ª–∏ –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞?

–î–∞! Python –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

- –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```python
@decorator_one
@decorator_two
def my_func():
    ...
```

- üìå –≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:

```python
my_func = decorator_one(decorator_two(my_func))
```

> üëâ –¢–æ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º, –∑–∞—Ç–µ–º –≤–Ω–µ—à–Ω–∏–π.

#### üîπ –ü—Ä–∏–º–µ—Ä —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –æ–±—ë—Ä—Ç–∫–æ–π

–°–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ –ø—Ä–æ—Å—Ç—ã—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:

```python
def log_decorator(func):
    def wrapper(*args, **kwargs):
        print(f"[log] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__}")
        return func(*args, **kwargs)
    return wrapper

def wrapper_decorator(func):
    def wrapper(*args, **kwargs):
        print("[wrapper] –ß—Ç–æ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ —Ñ—É–Ω–∫—Ü–∏–∏")
        result = func(*args, **kwargs)
        print("[wrapper] –ß—Ç–æ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏")
        return result
    return wrapper
```

–¢–µ–ø–µ—Ä—å –Ω–∞–≤–µ—Å–∏–º –∏—Ö –Ω–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é:

```python
@log_decorator
@wrapper_decorator
def say_hello():
    print("–ü—Ä–∏–≤–µ—Ç!")

say_hello()
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```pgsql
[log] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ wrapper
[wrapper] –ß—Ç–æ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ —Ñ—É–Ω–∫—Ü–∏–∏
–ü—Ä–∏–≤–µ—Ç!
[wrapper] –ß—Ç–æ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

#### üîπ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- `say_hello` —Å–Ω–∞—á–∞–ª–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ `wrapper_decorator`.
- –ó–∞—Ç–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ–π –æ–±—ë—Ä—Ç–∫–∏ (—É–∂–µ –æ–±—ë—Ä–Ω—É—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è) –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `log_decorator`.
- –¢–æ –µ—Å—Ç—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è: `log_decorator(wrapper_decorator(say_hello))`

#### üîπ –ó–∞–ø–æ–º–Ω–∏ –ø–æ—Ä—è–¥–æ–∫ (–≤–∞–∂–Ω–æ!):

```python
@A
@B
def f():
    pass
```

–¢–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:

```python
f = A(B(f))
```

> üëâ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö.  
> üëâ –ê –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è ‚Äî –∫–∞–∫ –æ–±—ë—Ä—Ç–∫–∏: —Å–Ω–∞—Ä—É–∂–∏ –≤–Ω—É—Ç—Ä—å.

#### üîπ –ö–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è?

–û—á–µ–Ω—å —á–∞—Å—Ç–æ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ:

- –ª–æ–≥–≥–∏—Ä–æ–≤–∞—Ç—å (–æ–¥–∏–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä),
- –∑–∞—Å–µ–∫–∞—Ç—å –≤—Ä–µ–º—è (–≤—Ç–æ—Ä–æ–π),
- –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç—Ä–µ—Ç–∏–π),
- –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—á–µ—Ç–≤—ë—Ä—Ç—ã–π)...
  > –ò –≤—Å—ë —ç—Ç–æ –±—É–¥–µ—Ç –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞!

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

- **–ù–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–≤–µ—Å–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤**.
- **–û–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö**.
- **–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å–ª–æ–π–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**.
- **–ö–∞–∂–¥—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∂–µ –æ–±—ë—Ä–Ω—É—Ç–∞ –¥—Ä—É–≥–∏–º**.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `functools.wraps`

#### üîπ –ü—Ä–æ–±–ª–µ–º–∞: —Ç–µ—Ä—è–µ—Ç—Å—è –∏–º—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

–ö–æ–≥–¥–∞ –º—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, **—Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî `wrapper`**. –ò–º–µ–Ω–Ω–æ –µ—ë –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º.

–ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:

```python
def log_decorator(func):
    def wrapper(*args, **kwargs):
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è {func.__name__}")
        return func(*args, **kwargs)
    return wrapper

@log_decorator
def greet(name):
    """–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏."""
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")

print(greet.__name__)
print(greet.__doc__)
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```pgsql
wrapper
None
```

- ü§î –°—Ç–æ–ø... –ù–æ —Ñ—É–Ω–∫—Ü–∏—è –∂–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è greet –∏ —É –Ω–µ—ë –µ—Å—Ç—å –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥...
- üìâ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ—É–Ω–∫—Ü–∏–∏: **`greet` —Ç–µ–ø–µ—Ä—å –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ ‚Äî `wrapper`**.

#### üîπ –†–µ—à–µ–Ω–∏–µ: functools.wraps

–ú–æ–¥—É–ª—å functools –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é wraps, –∫–æ—Ç–æ—Ä—É—é –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –Ω–∞–¥ –æ–±—ë—Ä—Ç–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π (wrapper):

```python
from functools import wraps

def log_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è {func.__name__}")
        return func(*args, **kwargs)
    return wrapper
```

> ‚úÖ –¢–µ–ø–µ—Ä—å wrapper –±—É–¥–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–º—è, docstring –∏ –¥—Ä—É–≥—É—é —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ func.

#### üîπ –ü–æ–≤—Ç–æ—Ä–∏–º –ø—Ä–∏–º–µ—Ä —Å wraps

```python
from functools import wraps

def log_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        print(f"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è {func.__name__}")
        return func(*args, **kwargs)
    return wrapper

@log_decorator
def greet(name):
    """–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏."""
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")

print(greet.__name__)   # greet
print(greet.__doc__)    # –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏.
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```nginx
greet
–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏.
```

> üí° –ò–º–µ–Ω–Ω–æ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ‚Äî –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

#### üîπ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

- `–û—Ç–ª–∞–¥–∫–∞`: –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ª–æ–≥–∞—Ö –∏ –æ—à–∏–±–∫–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º.
- `–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è`: help() –∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø—Ä–∞–≤–æ–∫ –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é —Ñ—É–Ω–∫—Ü–∏—é.
- `–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã`: —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, IDE –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Flask, FastAPI) –æ–ø–∏—Ä–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

- –ë–µ–∑ `functools.wraps` –≤—ã —Ç–µ—Ä—è–µ—Ç–µ –∏–º—è –∏ docstring —Ñ—É–Ω–∫—Ü–∏–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@wraps(func)` –Ω–∞–¥ `wrapper()` –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞.
- –≠—Ç–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

#### üîπ –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ?

–î–æ —Å–∏—Ö –ø–æ—Ä –º—ã –ø–∏—Å–∞–ª–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –±–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä:

```python
@my_decorator
def f(): ...
```

–¢–µ–ø–µ—Ä—å –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Å–∞–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–ª –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

```python
@my_decorator(arg1, arg2)
def f(): ...
```

> üîÑ –¢–æ –µ—Å—Ç—å:

- `@decorator` ‚Äî –ø—Ä–æ—Å—Ç–æ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é.
- `@decorator(args)` ‚Äî —Å–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ–∞–±—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.

#### üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç: —Ç—Ä–æ–π–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞

–ß—Ç–æ–±—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ñ—É–Ω–∫—Ü–∏–π:

```python
def outer(arg):
    def decorator(func):
        def wrapper(*args, **kwargs):
            print(f"–î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º: {arg}")
            return func(*args, **kwargs)
        return wrapper
    return decorator
```

> üîç –ó–¥–µ—Å—å:

- `outer(arg)` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ `@decorator(arg)`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç decorator
- `decorator(func)` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç wrapper
- `wrapper(*args, **kwargs)` ‚Äî —É–∂–µ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é

#### üîπ –ü—Ä–∏–º–µ—Ä: repeat(n)

–ù–∞–ø–∏—à–µ–º –ø–æ–ª–µ–∑–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `n` —Ä–∞–∑:

```python
def repeat(n):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            for _ in range(n):
                func(*args, **kwargs)
        return wrapper
    return decorator
```

> ‚úÖ –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º @wraps(func), —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–º—è –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.

#### üîπ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
@repeat(3)
def say_hello():
    print("–ü—Ä–∏–≤–µ—Ç!")

say_hello()
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```
–ü—Ä–∏–≤–µ—Ç!
–ü—Ä–∏–≤–µ—Ç!
–ü—Ä–∏–≤–µ—Ç!
```

#### üîπ –ê –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ?

–õ–µ–≥–∫–æ! –ü—Ä–∏–º–µ—Ä: –ª–æ–≥–≥–µ—Ä —Å —É—Ä–æ–≤–Ω–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è:

```python
def log(level):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            print(f"[{level.upper()}] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__}")
            return func(*args, **kwargs)
        return wrapper
    return decorator
```

```python
@log("debug")
def greet(name):
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}!")

greet("–ê–Ω—è")
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```csharp
[DEBUG] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ greet
–ü—Ä–∏–≤–µ—Ç, –ê–Ω—è!
```

#### üß† –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

- **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ = —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.**
- **–ù—É–∂–Ω–æ —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏: outer(param) ‚Üí decorator(func) ‚Üí wrapper(...).**
- **–°–æ—Ö—Ä–∞–Ω—è–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–µ–π @wraps(func).**
- **–≠—Ç–æ –º–æ—â–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞: –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã @log(level), @repeat(5), @timeout(2) –∏ —Ç.–ø.**

### –ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –ø–æ–ª–µ–∑–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

#### üîß –ü—Ä–∏–º–µ—Ä 1: –õ–æ–≥–≥–µ—Ä –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏

–û—á–µ–Ω—å —á–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π: –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –±–æ—Ç–∞.

##### üß™ –ü—Ä–æ—Å—Ç–æ–π –ª–æ–≥–≥–µ—Ä:

```python
from functools import wraps
from datetime import datetime

def log_calls(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        print(f"[{datetime.now()}] –í—ã–∑–æ–≤: {func.__name__} —Å args={args}, kwargs={kwargs}")
        return func(*args, **kwargs)
    return wrapper
```

##### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```python
@log_calls
def add(x, y):
    return x + y

add(2, 3)
```

> üîç –í—ã–≤–æ–¥:

```csharp
[2025-05-18 12:30:00] –í—ã–∑–æ–≤: add —Å args=(2, 3), kwargs={}
```

> üí° –¢–∞–∫–æ–π –ª–æ–≥–≥–µ—Ä —É–¥–æ–±–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∫–æ –≤—Å–µ–º –∫—Ä–∏—Ç–∏—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º ‚Äî –±—É–∫–≤–∞–ª—å–Ω–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π!

#### üîí –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞)

–ö–æ–Ω—Ç–µ–∫—Å—Ç: —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É, –Ω–æ –º—ã —Ö–æ—Ç–∏–º –ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ "—Å–≤–æ–∏—Ö", –ø—Ä–æ–≤–µ—Ä—è—è —Ç–æ–∫–µ–Ω/ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

##### üõ° –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–∞:

```python
from functools import wraps

def check_token(allowed_ids):
    def decorator(func):
        @wraps(func)
        def wrapper(user_id, *args, **kwargs):
            if user_id not in allowed_ids:
                print("‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω")
                return
            return func(user_id, *args, **kwargs)
        return wrapper
    return decorator
```

##### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
@check_token(allowed_ids={12345678, 87654321})
def handle_secret_command(user_id, message):
    print(f"‚úÖ –°–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ—Ç {user_id}: {message}")

handle_secret_command(12345678, "–ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥")
handle_secret_command(11111111, "–ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞")
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```yaml
‚úÖ –°–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ—Ç 12345678: –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥
‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω
üí° –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —á–∞—Ç-–±–æ—Ç–∞—Ö –∏–ª–∏ CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö.
```

#### ‚ö° –ü—Ä–∏–º–µ—Ä 3: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–ª–≥–æ –∏–ª–∏ –¥–µ–ª–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, —É–¥–æ–±–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

- ‚ö† –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç functools.lru_cache, –Ω–æ –º—ã –ø–æ–∫–∞–∂–µ–º —Ä—É—á–Ω–æ–π –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä.

##### üíæ –ü—Ä–æ—Å—Ç–æ–π –∫–µ—à:

```python
from functools import wraps

def simple_cache(func):
    cache = {}
    @wraps(func)
    def wrapper(*args):
        if args in cache:
            print("üîÅ –ë–µ—Ä—ë–º –∏–∑ –∫–µ—à–∞")
            return cache[args]
        print("‚úÖ –í—ã—á–∏—Å–ª—è–µ–º –∏ –∫–µ—à–∏—Ä—É–µ–º")
        result = func(*args)
        cache[args] = result
        return result
    return wrapper
```

##### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
@simple_cache
def slow_add(x, y):
    print("‚è≥ –°–ª–æ–∂–µ–Ω–∏–µ...")
    return x + y

print(slow_add(2, 3))  # –±—É–¥–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–æ
print(slow_add(2, 3))  # –±—É–¥–µ—Ç –∏–∑ –∫–µ—à–∞
```

> üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:

```
‚úÖ –í—ã—á–∏—Å–ª—è–µ–º –∏ –∫–µ—à–∏—Ä—É–µ–º
‚è≥ –°–ª–æ–∂–µ–Ω–∏–µ...
5
üîÅ –ë–µ—Ä—ë–º –∏–∑ –∫–µ—à–∞
5
```

> üí° –ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —É —Ç–µ–±—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, API-–∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤.

#### üß† –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –ø–æ–ª—å–∑—É –æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤:

- üîç –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç
- üîê –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- ‚ö° –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

#### –¢—ã —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—à—å:

- —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
- —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏—Ö –≤ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö

### –ó–∞–¥–∞—á–∏

1. –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é `greet(name)`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –ü—Ä–∏–≤–µ—Ç, `{name}`.
   –ü–µ—Ä–µ–¥–∞–π –µ—ë –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é `execute(func, name)`, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–∑–≤–∞–ª–∞ `func(name)` –∏ –≤–µ—Ä–Ω—É–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

2. –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é choose_math(op) ‚Äî –æ–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É 'add' –∏–ª–∏ 'mul' –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é (add(x, y) –∏–ª–∏ mul(x, y)).
   –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É —Å –ø–æ–º–æ—â—å—é:

```py
add_func = choose_math('add')
print(add_func(2, 3))  # 5
```

3. –°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é `say_hello(name)`, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `build_message()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Å—Ç—Ä–æ–∫—É `–ü—Ä–∏–≤–µ—Ç, {name}`.
   –§—É–Ω–∫—Ü–∏—è `say_hello()` –¥–æ–ª–∂–Ω–∞ –≤—ã–∑—ã–≤–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç `build_message()`.

4. –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é `power_maker(exp)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `power(x)`, –≤–æ–∑–≤–æ–¥—è—â—É—é `x` –≤ —Å—Ç–µ–ø–µ–Ω—å `exp`.
   –ü—Ä–∏–º–µ—Ä:

```python
square = power_maker(2)
print(square(4))  # 16
```

5. –°–æ–∑–¥–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `debug`, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–≤–æ–¥–∏—Ç `–§—É–Ω–∫—Ü–∏—è {–∏–º—è} –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è`.
   –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ `add(x, y)` –∏ –≤—ã–∑–æ–≤–∏ –µ—ë.

6. –°–¥–µ–ª–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `announce`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç `"--- –ù–ê–ß–ê–õ–û ---"` –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ `"--- –ö–û–ù–ï–¶ ---"` –ø–æ—Å–ª–µ.
   –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `say_hi()`.

7. –°–æ–∑–¥–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `trace`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º:

```py
@trace
def greet(name, age):
    return f"{name} ‚Äî {age}"
```

8. –ù–∞–ø–∏—à–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `calc_time` (–±–µ–∑ –∑–∞–º–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏!), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏—Ç:`–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ {–∏–º—è} —Å args={...}, kwargs={...}` –¥–ª—è –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –ø—Ä–∏–º–µ–Ω—ë–Ω.

9. –°–æ–∑–¥–∞–π –¥–≤–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ `decorator_a` –∏ `decorator_b`, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—á–∞—Ç–∞—é—Ç `"A"` –∏ `"B"` –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏.
   –ü—Ä–∏–º–µ–Ω–∏ –∏—Ö –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –≤—ã–≤–æ–¥:

```py
@decorator_a
@decorator_b
def hello(): print("Hello")
```

10. –°–¥–µ–ª–∞–π `@border` (–ø–µ—á–∞—Ç–∞–µ—Ç —Ä–∞–º–∫—É ===) –∏ `@title` (–ø–µ—á–∞—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `"–§–£–ù–ö–¶–ò–Ø:"`).
    –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:

```py
@title
@border
def info(): print("–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç")
```

11. –ù–∞–ø–∏—à–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `log`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `@wraps`.
    –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ `.__name__` –∏ `.__doc__` —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è. –ó–∞—Ç–µ–º –∏—Å–ø—Ä–∞–≤—å —Å –ø–æ–º–æ—â—å—é `@wraps`.

12. –°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é —Å `docstring‚Äô–æ–º`. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫ –Ω–µ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏ –Ω–∞–ø–µ—á–∞—Ç–∞–π `help(func)` –¥–æ –∏ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `@wraps`.

13. –°–æ–∑–¥–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `repeat(n)`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `n` —Ä–∞–∑.

```py
@repeat(3)
def greet(): print("–ü—Ä–∏–≤–µ—Ç!")
```

14. –°–¥–µ–ª–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `label(prefix)`, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–≤–æ–¥–∏—Ç `--- {prefix} ---`.
    –ü—Ä–æ–≤–µ—Ä—å:

```py
@label("INFO")
def report(): print("–û—Ç—á–µ—Ç –≥–æ—Ç–æ–≤")
```

15. –°–æ–∑–¥–∞–π `@logger`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ñ–∞–π–ª `log.txt` –≤–º–µ—Å—Ç–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.

16. –°–¥–µ–ª–∞–π `@require_token(allowed)`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `user_id` –≤ —Å–ø–∏—Å–∫–µ.
    –ü—Ä–∏–º–µ—Ä:

```py
@require_token([1, 2, 3])
def secret(user_id): print("OK")
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### –í–æ–ø—Ä–æ—Å: –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ `wrapper` –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞?

#### üìå –ö—Ä–∞—Ç–∫–∏–π –ø–ª–∞–Ω –æ–±—ä—è—Å–Ω–µ–Ω–∏—è:

- –ß—Ç–æ —Ç–∞–∫–æ–µ `@decorator`
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞
- –ö–∞–∫ `wrapper` –ø–æ–ª—É—á–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- –ü–æ—á–µ–º—É –≤—Å–µ `¬´–º–∞–≥–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç¬ª` ‚Äî –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞

#### 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `@decorator`?

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å:

```python
@my_decorator
def say_hello(name):
    print(f"–ü—Ä–∏–≤–µ—Ç, {name}")
```

Python —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–æ –∫–∞–∫:

```python
say_hello = my_decorator(say_hello)
```

- –¢–æ –µ—Å—Ç—å:

  - `say_hello` ‚Äî –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
  - `my_decorator` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –ø–æ–ª—É—á–∞–µ—Ç `say_hello` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
  - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `my_decorator(say_hello)` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `say_hello`

#### 2. –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `my_decorator(say_hello)`?

–û–Ω–∞ –æ–±—ã—á–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—ë—Ä—Ç–∫—É (`wrapper`). –ù–∞–ø—Ä–∏–º–µ—Ä:

```python
def my_decorator(func):
    def wrapper(*args, **kwargs):
        print("–î–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è")
        result = func(*args, **kwargs)
        print("–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è")
        return result
    return wrapper
```

- –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

  ```python
  say_hello = wrapper
  ```

  –¢–æ–ª—å–∫–æ —Ç–µ–ø–µ—Ä—å `wrapper` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ `func`, —Ç.–µ. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é `say_hello`.

#### 3. –ö–∞–∫ wrapper –ø–æ–ª—É—á–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã?

–í —ç—Ç–æ–º –∏ —Å–æ—Å—Ç–æ–∏—Ç –º–∞–≥–∏—è Python –∫–∞–∫ —è–∑—ã–∫–∞ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞:

–∫–æ–≥–¥–∞ —Ç—ã –≤—ã–∑—ã–≤–∞–µ—à—å:

```python
say_hello("–ê–Ω—è")
```

‚Äî —Ç—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—ã–∑—ã–≤–∞–µ—à—å `wrapper("–ê–Ω—è")`, –ø–æ—Ç–æ–º—É —á—Ç–æ `say_hello` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `wrapper`.

–≤–Ω—É—Ç—Ä–∏ wrapper —Ç—ã —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—à—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∞–ª—å—à–µ:

```python
result = func(*args, **kwargs)
```

> `*args`, `**kwargs` ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

#### 4. –ü–æ—á–µ–º—É –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏¬ª?

–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã **–∑–∞–º–µ–Ω—è–µ—à—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é** –Ω–∞ `wrapper` –∏ —Ä—É—á–∫–∞–º–∏ –ø–µ—Ä–µ–¥–∞–µ—à—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∞–ª—å—à–µ:

- Python **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç** `func` –Ω–∞–ø—Ä—è–º—É—é
- —Ç—ã —Å–∞–º —Ä–µ—à–∞–µ—à—å, –≤—ã–∑—ã–≤–∞—Ç—å –ª–∏ `func` –≤–Ω—É—Ç—Ä–∏ `wrapper`, –∏ —á—Ç–æ –µ–π –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å
- –ø–æ—ç—Ç–æ–º—É –±–µ–∑ —Å—Ç—Ä–æ–∫–∏ `func(*args, **kwargs)` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–æ–±—â–µ –±—ã –Ω–µ –≤—ã–∑–≤–∞–ª–∞—Å—å

#### üîÅ –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –ø–æ —à–∞–≥–∞–º

```py
def my_decorator(func):
    def wrapper(*args, **kwargs):
        print("Start")
        return func(*args, **kwargs)
    return wrapper

@my_decorator
def greet(name):
    print(f"Hello, {name}")
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

- `@my_decorator` ‚Üí `greet = my_decorator(greet)`
- `greet` —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `wrapper`
- **–¢—ã –≤—ã–∑—ã–≤–∞–µ—à—å**: `greet("Alex")`
- **–≠—Ç–æ**: `wrapper("Alex")`
- **–í–Ω—É—Ç—Ä–∏**: `func("Alex")` ‚Üí —ç—Ç–æ `greet("Alex")`
- –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ –±—É–¥—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–ª–æ—Å—å ‚Äî –Ω–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
